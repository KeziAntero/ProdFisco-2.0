{
    "sourceFile": "src/utils/addAdminUser.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1757097612560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1757097612560,
            "name": "Commit-0",
            "content": "import { supabase } from '@/integrations/supabase/client';\r\n\r\nexport async function addAdminUser() {\r\n  try {\r\n    // Criar usuário no Supabase Auth\r\n    const { data: authData, error: authError } = await supabase.auth.signUp({\r\n      email: 'adm@fiscal.com',\r\n      password: 'admin123',\r\n      options: {\r\n        data: {\r\n          nome: 'Administrador',\r\n          matricula: '0101',\r\n        },\r\n      },\r\n    });\r\n\r\n    if (authError) {\r\n      console.error('Erro ao criar usuário:', authError);\r\n      return { success: false, error: authError.message };\r\n    }\r\n\r\n    if (authData.user) {\r\n      // Criar perfil do usuário\r\n      const { error: profileError } = await supabase\r\n        .from('profiles')\r\n        .insert({\r\n          user_id: authData.user.id,\r\n          nome: 'Administrador',\r\n          login: 'adm@fiscal.com',\r\n          matricula: '0101',\r\n        });\r\n\r\n      if (profileError) {\r\n        console.error('Erro ao criar perfil:', profileError);\r\n        return { success: false, error: profileError.message };\r\n      }\r\n\r\n      console.log('Usuário administrador criado com sucesso!');\r\n      return { success: true, user: authData.user };\r\n    }\r\n\r\n    return { success: false, error: 'Usuário não foi criado' };\r\n  } catch (error: any) {\r\n    console.error('Erro geral:', error);\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\n// Função para executar via console do navegador\r\n(window as any).addAdminUser = addAdminUser;\r\n"
        }
    ]
}